Object.defineProperty(exports,"__esModule",{value:true});exports.tearDownWeb=exports.setupWeb=exports.tearDownMobile=exports.setupMobile=undefined;var _this=this;var _setup=require("@times-components/fructose/setup");var _setup2=_interopRequireDefault(_setup);var _index=require("./client/index");var _index2=_interopRequireDefault(_index);var _logger=require("./logger");var _logger2=_interopRequireDefault(_logger);var _wd=require("wd");var _wd2=_interopRequireDefault(_wd);var _setup3=require("./setup.appium");var _setup4=_interopRequireDefault(_setup3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var client=void 0;var browser=void 0;var setupMobile=function setupMobile(config){return regeneratorRuntime.async(function setupMobile$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(_setup2.default.hooks.mobile.setup());case 2:_context.next=4;return regeneratorRuntime.awrap((0,_setup4.default)(config));case 4:client=(0,_index2.default)(7811);return _context.abrupt("return",{client:client});case 6:case"end":return _context.stop();}}},null,_this);};var setupWeb=function setupWeb(){return regeneratorRuntime.async(function setupWeb$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_logger2.default.verbose('Dextrose','starting web');_context2.next=3;return regeneratorRuntime.awrap(_setup2.default.hooks.web.setup(3000,10000));case 3:client=(0,_index2.default)(7811);browser=_wd2.default.promiseChainRemote();_context2.next=7;return regeneratorRuntime.awrap(browser.init({browserName:'chrome'}).get("http://localhost:3000"));case 7:_logger2.default.verbose('Dextrose','Browser open');return _context2.abrupt("return",{client:client,browser:browser});case 9:case"end":return _context2.stop();}}},null,_this);};var tearDownMobile=function tearDownMobile(){return regeneratorRuntime.async(function tearDownMobile$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:client.disconnect();_logger2.default.verbose('Dextrose','torn down client');_context3.next=4;return regeneratorRuntime.awrap(_setup2.default.hooks.mobile.cleanup());case 4:_logger2.default.verbose('Dextrose','fructose server torn down');case 5:case"end":return _context3.stop();}}},null,_this);};var tearDownWeb=function tearDownWeb(){return regeneratorRuntime.async(function tearDownWeb$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:client.disconnect();_logger2.default.verbose('Dextrose','torn down client');_context4.next=4;return regeneratorRuntime.awrap(_setup2.default.hooks.web.cleanup());case 4:_logger2.default.verbose('Dextrose','fructose server torn down');_context4.next=7;return regeneratorRuntime.awrap(browser.quit());case 7:case"end":return _context4.stop();}}},null,_this);};exports.setupMobile=setupMobile;exports.tearDownMobile=tearDownMobile;exports.setupWeb=setupWeb;exports.tearDownWeb=tearDownWeb;