var _this=this;var _pixelmatch=require("pixelmatch");var _pixelmatch2=_interopRequireDefault(_pixelmatch);var _pngjs=require("pngjs");var _differ=require("./differ");var _differ2=_interopRequireDefault(_differ);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}describe("Snapshot differ",function(){jest.mock("pixelmatch");var img1={data:new Buffer("abc"),width:5,height:2};var img2={data:new Buffer("abc"),width:5,height:2};it("returns 0 for equal objects",function _callee(){var diff,expectedWidth,expectedHeight;return regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:diff=new _pngjs.PNG({width:img1.width,height:img1.height});expectedWidth=5;expectedHeight=2;_context.next=5;return regeneratorRuntime.awrap((0,_differ2.default)(img1,img2));case 5:expect(_pixelmatch2.default).toBeCalledWith(img1.data,img2.data,diff.data,expectedWidth,expectedHeight,{threshold:0.1});case 6:case"end":return _context.stop();}}},null,_this);});it("returns a diff stream",function(){var _imageDiff=(0,_differ2.default)(img1,img2),diff=_imageDiff.diff;expect(diff.readable).toBe(true);});});