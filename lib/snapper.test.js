var _this=this;var _snapper=require("./snapper");var _snapper2=_interopRequireDefault(_snapper);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}jest.mock("child_process");describe('snapper',function(){var _require=require("child_process"),execSync=_require.execSync;it("sets the platform",function(){var platform="android";var snapper=new _snapper2.default(platform);expect(snapper.platform).toMatch(platform);});it("snaps android",function _callee(){var outpath,deviceType,snapper;return regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:outpath=__dirname+"-test";deviceType='android';snapper=new _snapper2.default(deviceType);_context.next=5;return regeneratorRuntime.awrap(snapper.snap(outpath));case 5:expect(execSync.mock.calls[0]).toEqual(["npx osnap "+deviceType+" -f "+outpath+".png"]);case 6:case"end":return _context.stop();}}},null,_this);});it("snaps ios",function _callee2(){var outpath,deviceType,snapper;return regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:outpath=__dirname+"-test";deviceType='ios';snapper=new _snapper2.default(deviceType);_context2.next=5;return regeneratorRuntime.awrap(snapper.snap(outpath));case 5:expect(execSync.mock.calls[1]).toEqual(["npx osnap "+deviceType+" -f "+outpath+".png"]);case 6:case"end":return _context2.stop();}}},null,_this);});it("throws an exception if path is not string",function(){var outpath=[];var deviceType='android';var snapper=new _snapper2.default(deviceType);expect(function(){return snapper.snap(outpath);}).toThrow();});it("throws if platform is not ios or android",function(){var platform="rubbish";expect(function(){return new _snapper2.default(platform);}).toThrow();});});